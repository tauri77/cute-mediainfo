!function(){var e,t={697:function(e,t,n){"use strict";var o=window.wp.element,r=window.wp.blocks,c=window.wp.components,i=window.wp.i18n,l=window.wp.blockEditor,a=window.wp.serverSideRender,u=n.n(a),s=n(581),f=n.n(s);function p(e){const[t,n]=(0,o.useState)(""),[r,i]=(0,o.useState)(!1),[l,a]=(0,o.useState)([]),[u,s]=(0,o.useState)(null),f=(0,o.useRef)(null);function p(e){if(e&&"string"==typeof e){const t=document.createElement("div");e=(e=e.replace(/<\s*script[^>]*>([\S\s]*?)<\s*\/\s*script[^>]*>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),t.innerHTML=e,e=t.textContent,t.textContent=""}return e}return(0,o.useEffect)((()=>{f.current&&f.current.focus()}),[]),(0,o.useEffect)((function(){null===u&&(s(!1),e.defaults((function(e){a(e),s(e)})))})),(0,o.useEffect)((function(){if(e.minLengthSearch<=t.length){const n=setTimeout((()=>(i(!0),void e.search(t,(function(e){i(!1),a(e)})))),600);return()=>clearTimeout(n)}0===t.length&&null!=u&&a(u)}),[t]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(c.TextControl,{ref:f,autoFocus:!0,label:e.searchLabel,value:t,onChange:function(e){n(e)},className:r?"cutemi-search-loading":""}),l.map((function(t){return(0,o.createElement)(c.Button,{key:t.value,className:"cutemi-input-search-result",label:p(t.label),value:t.value,key:t.value,onClick:t=>{!function(t){for(let n=0;n<l.length;n++){let o=l[n];if(""+o.value===t)return void e.onSelect(Object.assign({},o))}alert("Error on InputSearchFetch component! Not Found "+t)}(t.target.value)}},p(t.label))})))}p.defaultProps={search:()=>[],defaults:()=>[],searchLabel:(0,i.__)("Search Here","cute-mediainfo"),minLengthSearch:2},p.propTypes={search:f().func,defaults:f().func,onSelect:f().func.isRequired,searchLabel:f().string,minLengthSearch:f().number};var m=p,d=window.wp.apiFetch,v=n.n(d);function h(e){function t(e,t){e.map?t(e.map((function(e){return Object.assign(e,{label:"object"==typeof e.title?e.title.rendered:e.title,value:e.id})}))):t([])}return(0,o.createElement)(c.Modal,{title:(0,i.__)("Select MediaInfo","cute-mediainfo"),className:"cutemi-modal-search",onRequestClose:()=>e.onRequestClose()},(0,o.createElement)(m,{searchLabel:(0,i.__)("Search By Title","cute-mediainfo"),search:(n,o)=>function(n,o){(function(e){let{postType:t,query:n}=e;return v()({path:"/wp/v2/"+encodeURIComponent(t)+"?search="+encodeURIComponent(n)})})({postType:e.postType,query:n}).then((function(e){t(e,o)})).catch((function(){alert("Error on search!"),o([])}))}(n,o),defaults:n=>function(n){(function(e){let{postType:t}=e;return v()({path:"/wp/v2/"+t})})({postType:e.postType}).then((function(e){t(e,n)}))}(n),minLengthSearch:e.minLengthSearch,onSelect:t=>e.onSelect(t)}))}h.defaultProps={onSelect:()=>[],onRequestClose:()=>[],minLengthSearch:2,postType:"posts"},h.propTypes={onSelect:f().func,onRequestClose:f().func,minLengthSearch:f().number,postType:f().string};var b=h;function E(e){const[t,n]=(0,o.useState)(!1),r=function(){const t=e.profiles.map((function(t){return{title:t.label,icon:e.profile==t.value?"yes-alt":"marker",onClick:()=>{e.onSelect(t.value)}}}));n(t)};return(0,o.useEffect)((function(){!1===t&&r()})),(0,o.useEffect)(r,[e.profile]),(0,o.createElement)(l.BlockControls,null,(0,o.createElement)(c.ToolbarGroup,null,(0,o.createElement)(c.ToolbarButton,{title:(0,i.__)("Video","cute-mediainfo"),icon:()=>(0,o.createElement)(c.Icon,{icon:(0,o.createElement)("svg",{viewBox:"0 0 24 24"},(0,o.createElement)("path",{d:"M2.6 3c-1 0-1.8.9-1.8 2v12c0 1 .8 1.8 1.8 1.8h9.6v-1.6H2.5V4.7h18.4v7.7h1.6V4.9c0-1.1-.8-1.8-1.8-1.8L2.6 3zm6 3.9v8l6-4-6-4zm2.8.8 6.9 4.7-6.9-4.7zm2.6 5.7v2h8.4v-2H14zm0 3.2v2h8.4v-2H14zm0 3.2v2h8.4v-2H14z"}))}),onClick:e.open}),e.editLink&&(0,o.createElement)(c.ToolbarButton,{title:(0,i.__)("Edit MediaInfo","cute-mediainfo"),icon:()=>(0,o.createElement)(c.Icon,{icon:(0,o.createElement)("svg",{viewBox:"0 0 24 24"},(0,o.createElement)("path",{d:"M2.6 3c-1 0-1.8.9-1.8 2v12c0 1 .8 1.8 1.8 1.8h9.6v-1.6H2.5V4.7h18.4v6.1h1.6V4.9c0-1.1-.8-1.8-1.8-1.8L2.6 3zm6 3.9v8l6-4zm11.3 6.5.71-.71a1 1 0 0 1 1.41 0l.71.71a1 1 0 0 1 0 1.41l-.71.71zm-.71.71-5.3 5.3v2.12h2.12l5.3-5.3z"}))}),onClick:function(){window.open(e.editLink,"_blank")}}),(0,o.createElement)(c.ToolbarItem,null,(e=>(0,o.createElement)(c.DropdownMenu,{toggleProps:e,icon:()=>(0,o.createElement)(c.Icon,{icon:(0,o.createElement)("svg",{viewBox:"0 0 24 24"},(0,o.createElement)("path",{d:"M2.6 3c-1 0-1.8.9-1.8 2v12c0 1 .8 1.8 1.8 1.8h9.6v-1.6H2.5V4.7h18.4v7.7h1.6V4.9c0-1.1-.8-1.8-1.8-1.8L2.6 3zm6 3.9v8l6-4zm2.8.8 6.9 4.7-6.9-4.7z"}),(0,o.createElement)("path",{d:"M21.7 17.6a4 4 0 0 0 0-1l1-.8c.2 0 .2-.2.1-.3l-1-1.7c0-.2-.2-.2-.3-.2l-1.2.5-.8-.4-.2-1.4-.3-.2h-2l-.2.2-.2 1.4c-.3 0-.6.2-.8.4l-1.3-.5c-.1 0-.2 0-.3.2l-1 1.7v.3l1.1.8a4 4 0 0 0 0 1l-1 .8c-.1 0-.2.2 0 .3l1 1.8s.1.1.2 0l1.3-.4.8.5.2 1.3.2.2h2l.3-.2.2-1.3.8-.5 1.2.5.3-.1 1-1.8v-.3zM18 18.9a1.7 1.7 0 1 1 0-3.5 1.7 1.7 0 0 1 0 3.5z"}))}),label:(0,i.__)("Profile","cute-mediainfo"),controls:t})))))}E.propTypes={profiles:f().array.isRequired,profile:f().string.isRequired,onSelect:f().func.isRequired,open:f().func.isRequired,editLink:f().func.isRequired};var y=E;(0,r.registerBlockType)("cute-mediainfo/cutemi-block",{icon:()=>(0,o.createElement)(c.Icon,{icon:(0,o.createElement)("svg",{viewBox:"0 0 24 24"},(0,o.createElement)("path",{d:"M2.6 3c-1 0-1.8.9-1.8 2v12c0 1 .8 1.8 1.8 1.8h9.6v-1.6H2.5V4.7h18.4v7.7h1.6V4.9c0-1.1-.8-1.8-1.8-1.8zm6 3.9v8l6-4zm9.7 5.5c-3 0-5.4 2.2-5.4 5 0 2.7 2.4 5 5.4 5s5.3-2.3 5.3-5c0-2.8-2.4-5-5.3-5zm0 1c2.3 0 4.3 1.8 4.3 4s-2 4-4.3 4c-2.4 0-4.3-1.8-4.3-4s2-4 4.3-4zm-.6 1.5v1h1.1v-1zm0 2v3h1.1v-3z"}))}),edit:function(e){let{attributes:t,setAttributes:n}=e;const[r,a]=(0,o.useState)(!1),[s,f]=(0,o.useState)(window.cutemiProfiles?window.cutemiProfiles:[{value:"full",label:"Full"}]),[p,m]=(0,o.useState)(t.profile?t.profile:""),[d,v]=(0,o.useState)(t.id?t.id:""),[h,E]=(0,o.useState)(!1),g=(0,o.useRef)(null),[S,w]=(0,o.useState)(!1);(0,o.useEffect)((function(){!1===h&&!1===S&&(w(!0),function(){const e=d;setTimeout((function(){if(null===S)return;if(d!==e)return void w(!1);let t=jQuery(g.current).parent().find(".cutemi-preview-edit-link");t.length>0?(E(t.attr("href")),w(null)):w(!1)}),1e3)}())}));const k=e=>{m(e),n({profile:e})};return(0,o.createElement)("div",(0,l.useBlockProps)(),(0,o.createElement)(y,{profile:p,profiles:s,onSelect:k,editLink:h,open:a}),!h&&(0,o.createElement)("div",{className:"cutemi-block-edit components-placeholder"},(0,o.createElement)(c.SelectControl,{label:(0,i.__)("Profile","cute-mediainfo"),value:p,options:s,onChange:e=>k(e)}),(0,o.createElement)(c.TextControl,{label:(0,i.__)("MediaInfo ID","cute-mediainfo"),type:"number",value:d,onChange:e=>{return v(t=e),n({id:""+t}),void w(!0);var t},className:"cutemi-block-mediainfo-id"}),(0,o.createElement)(c.Button,{isSecondary:!0,onClick:()=>a(!0)},(0,i.__)("Select MediaInfo","cute-mediainfo"))),r&&(0,o.createElement)(b,{onRequestClose:()=>a(!1),postType:"cute_mediainfo",minLengthSearch:1,onSelect:e=>{return v((t=e).value),a(!1),n({id:""+t.value}),void(t.edit_link?E(t.edit_link):E(""));var t}}),(0,o.createElement)("small",{ref:g}),(0,o.createElement)(u(),{block:"cute-mediainfo/cutemi-block",attributes:t}))},save:function(){return null}})},703:function(e,t,n){"use strict";var o=n(414);function r(){}function c(){}c.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,c,i){if(i!==o){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:r};return n.PropTypes=n,n}},581:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,o),c.exports}o.m=t,e=[],o.O=function(t,n,r,c){if(!n){var i=1/0;for(s=0;s<e.length;s++){n=e[s][0],r=e[s][1],c=e[s][2];for(var l=!0,a=0;a<n.length;a++)(!1&c||i>=c)&&Object.keys(o.O).every((function(e){return o.O[e](n[a])}))?n.splice(a--,1):(l=!1,c<i&&(i=c));if(l){e.splice(s--,1);var u=r();void 0!==u&&(t=u)}}return t}c=c||0;for(var s=e.length;s>0&&e[s-1][2]>c;s--)e[s]=e[s-1];e[s]=[n,r,c]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,46:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,c,i=n[0],l=n[1],a=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(a)var s=a(o)}for(t&&t(n);u<i.length;u++)c=i[u],o.o(e,c)&&e[c]&&e[c][0](),e[i[u]]=0;return o.O(s)},n=self.webpackChunkcutemi_block=self.webpackChunkcutemi_block||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var r=o.O(void 0,[46],(function(){return o(697)}));r=o.O(r)}();